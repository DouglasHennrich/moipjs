/*! moip 2013-03-08 */
var moip={creditCard:{isValid:function(r){r=r.replace(/\s+/g,""),r=r.replace(/\./g,""),r=r.replace(/\-/g,"");for(var a=0,e=0;r.length>e;e++){if(isNaN(r.charAt(e)))return!1;var t=parseInt(r.charAt(e));a+=0==e%2?2*t:t}return 0==a%10},cardType:function(r){r=r.replace(/\s+/g,""),r=r.replace(".",""),r=r.replace("-","");var a=/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/,e=/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/,t=/^3[4,7]\d{13}$/,n=/^3[0,6,8]\d{12}$/;return r.match(a)?{brand:"VISA"}:r.match(e)?{brand:"MASTER CARD"}:r.match(t)?{brand:"AMEX"}:r.match(n)?{brand:"DINERS"}:null},isSecurityCodeValid:function(r,a){var e=moip.creditCard.cardType(r);if("4"==e.brand)var t=4;else var t=3;var n=RegExp("[0-9]{"+t+"}");return a.length==t&&n.test(a)},isExpiryDateValid:function(r,a){var e=new Date,t=e.getMonth()+1,n=e.getYear()+1900,d=!1;return parseInt(a)>=n&&parseInt(r)>=t&&(d=!0),d}}};