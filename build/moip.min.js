/*! Moip.js - build date: 2013-03-20 */
var moip={creditCard:{isValid:function(r){r=r.replace(/\s+/g,""),r=r.replace(/\./g,""),r=r.replace(/\-/g,"");for(var a=0,e=2-r.length%2;r.length>=e;e+=2)a+=parseInt(r.charAt(e-1));for(var e=r.length%2+1;r.length>e;e+=2){var t=2*parseInt(r.charAt(e-1));a+=10>t?t:t-9}return 0==a%10?!0:!1},cardType:function(r){r=r.replace(/\s+/g,""),r=r.replace(".",""),r=r.replace("-","");var a=/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/,e=/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/,t=/^3[4,7]\d{13}$/,n=/^3[0,6,8]\d{12}$/;return r.match(a)?{brand:"VISA"}:r.match(e)?{brand:"MASTERCARD"}:r.match(t)?{brand:"AMEX"}:r.match(n)?{brand:"DINERS"}:null},isSecurityCodeValid:function(r,a){var e=moip.creditCard.cardType(r);if("4"==e.brand)var t=4;else var t=3;var n=RegExp("[0-9]{"+t+"}");return a.length==t&&n.test(a)},isExpiryDateValid:function(r,a){var e=new Date,t=e.getMonth()+1,n=e.getYear()+1900,d=!1;return parseInt(a)>=n&&parseInt(r)>=t&&(d=!0),d}}};