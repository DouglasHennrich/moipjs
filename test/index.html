<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MoIP Javascript Validations</title>
<link rel="stylesheet" href="qunit.css">
<script src="qunit.js"></script>
<script src="../src/moip.js"></script>
<script>
test("MoIP Credit Card Validations", function() {
	var valid = moip.creditCard.isValid("4111111111111111");
	equal(valid, true);
	valid = moip.creditCard.isValid("4111 1111 1111 1111");
	equal(valid, true);
	valid = moip.creditCard.isValid("4111.1111.1111.1111");
	equal(valid, true);
	valid = moip.creditCard.isValid("4111-1111-1111-1111");
	equal(valid, true);
	var cscValid = moip.creditCard.isSecurityCodeValid("5105105105105100", "123");
	equal(cscValid, true);
  cscValid = moip.creditCard.isSecurityCodeValid("5105105105105100", "1234");
	equal(cscValid, false);
	var type = moip.creditCard.cardType("5105105105105100");
	equal(type["brand"], "MASTER CARD");
	type = moip.creditCard.cardType("4111111111111111");
	equal(type["brand"], "VISA");
	type = moip.creditCard.cardType("4111 1111 1111 1111");
	equal(type["brand"], "VISA");
	type = moip.creditCard.cardType("341111111111111");
	equal(type["brand"], "AMEX");
	
	
	var now = new Date();
	var isExpiryDateValid = moip.creditCard.isExpiryDateValid(now.getMonth()+1+"", now.getYear()+1900+"");
	equal(isExpiryDateValid, true);
	isExpiryDateValid = moip.creditCard.isExpiryDateValid("10", "2010");
	equal(isExpiryDateValid, false);
});
</script>
</head>
<body>
<div id="qunit"></div>
</body>
</html>